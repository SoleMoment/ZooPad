import{Q as w,g as i,c as l}from"./index-D-RQUM7B.js";const A=w("photos",()=>{const t=i([{id:"preset_1",name:"长颈鹿",url:"./images/长颈鹿.png",category:"animal",savedAt:new Date("2024-01-01")},{id:"preset_2",name:"火烈鸟",url:"./images/火烈鸟.png",category:"animal",savedAt:new Date("2024-01-01")},{id:"preset_3",name:"大熊猫",url:"./images/大熊猫.jpg",category:"animal",savedAt:new Date("2024-01-01")}]),o=i(null),s=i(!1),r=l(()=>t.value.find(e=>e.id===o.value)),c=l(()=>({animal:t.value.filter(e=>e.category==="animal"),map:t.value.filter(e=>e.category==="map"),screenshot:t.value.filter(e=>e.category==="screenshot"),saved:t.value.filter(e=>e.category==="saved")})),d=l(()=>[...t.value].sort((e,a)=>new Date(a.savedAt).getTime()-new Date(e.savedAt).getTime()).slice(0,20));function u(e){const a={...e,id:`photo_${Date.now()}`,savedAt:new Date};return t.value.unshift(a),a.id}function v(e,a,n="saved"){return u({url:e,name:a,category:n})}function f(e){const a=t.value.findIndex(n=>n.id===e);a>-1&&(t.value.splice(a,1),o.value===e&&(o.value=null))}function g(e){o.value=e,s.value=!1}function m(){o.value&&(s.value=!0)}function p(){s.value=!1}function h(e,a){const n=t.value.find(y=>y.id===e);n&&(n.annotations||(n.annotations=[]),n.annotations.push(a))}return{photos:t,selectedPhotoId:o,selectedPhoto:r,isEditing:s,photosByCategory:c,recentPhotos:d,addPhoto:u,saveImageFromUrl:v,deletePhoto:f,selectPhoto:g,startEditing:m,stopEditing:p,addAnnotation:h}});export{A as u};
